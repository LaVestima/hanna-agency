{% extends 'base.html.twig' %}

{% block title 'Register' %}

{% block stylesheets %}
    {{ encore_entry_link_tags('access_control_registration') }}
{% endblock %}

{% block content %}
    <a href="{{ path('access_control_login') }}">
        <div class="button action-bar-button">
            <i class="fa fa-chevron-left" aria-hidden="true"></i>
            Login
        </div>
    </a>

    {% if not app.user %}
        {{ form_start(form) }}
        <table class="user-input-table">
            <tr>
                <td>{{ form_label(form.login) }}</td>
                <td>{{ form_widget(form.login) }}</td>
            </tr>
            <tr>
                <td>{{ form_label(form.email) }}</td>
                <td>{{ form_widget(form.email) }}</td>
            </tr>
            <tr>
                <td>{{ form_label(form.password.first) }}</td>
                <td>{{ form_widget(form.password.first) }}</td>
            </tr>
            <tr>
                <td>{{ form_label(form.password.second) }}</td>
                <td>{{ form_widget(form.password.second) }}</td>
            </tr>
            <tr>
                <td colspan="2">
                    <div class="g-recaptcha" style="display: flex; justify-content: flex-end;" data-sitekey="{{ google_recaptcha_site_key }}"></div>
                </td>
            </tr>
            <tr>
                <td></td>
                <td>{{ form_widget(form.save) }}</td>
            </tr>
        </table>
        {{ form_end(form) }}
    {% else %}
        User already logged in.
    {% endif %}
{% endblock %}

{% block javascripts %}
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    {{ encore_entry_script_tags('access_control_registration') }}
{% endblock %}
